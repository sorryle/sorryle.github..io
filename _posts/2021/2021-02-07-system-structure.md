---
layout: post
title: 系统结构第三章-通道
category: 自考计算机科学与技术
tags: [系统结构]
excerpt: 系统结构第三章-通道的一个学习，选择通道，字节多路通道，数组多路通道
typora-root-url: ..
---



### 通道类型

**选择通道**

通道每次只服务于单台设备，高速传输完成一个设备后，再服务下一台设备，字节数传输

**字节多路通道** 

以字节为传输单位，顺序的服务多台设备，如：A、B设备都需要传输十个字节，我就连接A传一个字节，再连接B传一个字节，然后连接A传，这样轮着来

**数组多路通道**

以块为传输单位，顺序的服务多台设备，如：A、B设备都需要传输十个字节，我就连接A传一块（五个字节），再连接B传一块（五个字节），然后连接A传，这样轮着来



通道传输速率成为Bps,又称为吞吐率、通道流量，是单位时间内传输的数据量。

参数

$T_s$：设备选择时间，通道开始传输数据之前的准备时间，连接时间 。

$T_D$：通道传输一个字节需要的时间。

p：通道连接设备数，处于工作的

n：每台设备需要传输的字节数

k: 一个数据块包含的字节数，只有数组选择通道才有的参数

T: 通道完成所有数据传输的总时长



<font color='red'>`设：A、B两台设备需要传输10字节,选择时间1us，传输时间1us`</font>

**字节多路通道**

总共传输耗时：
$$
T_{Byte} = (T_s+T_D) *p * n
\\T_{Byte} = (1+1)*2*10 = 40_{us}
$$
极限流量计算公式
$$
f_{Max\_Byte} =\frac{pn}{(T_S+T_D)pn} =\frac{1}{T_S+T_D}
\\f_{Max\_Byte} =\frac{2*10}{(1+1) *2*10}= \frac{1}{1+1} =0.5
$$
实际流量是连接这个通道上所有设备的数据传输率
$$
f_{BYTE} = \sum_{i=1}^pfi
\\f_{BYTE} = \sum_{i=1}^2fi = 2*(10*2) = 40_{us}
$$
$f_i$是第i台设备实际的传输速率，j为通道号



<font color='red'>`设：A、B两台设备需要传输10字节,选择时间1us，传输时间1us。传输块的字节数为2`</font>

**数组多路通道**

总共传输耗时：
$$
T_{Bolck} = (\frac{T_s}{k}+T_D)*p*n
\\T_{Bolck} = (\frac{1}{2} + 1)*2*10 = 30_{us}
$$
极限流量计算公式
$$
f_{Max\_Bolck} =\frac{pn}{(\frac{T_s}{k}+T_D)pn}=\frac{1}{\frac{T_s}{k}+T_D}
\\f_{Max\_Bolck} = \frac{2*10}{30_{us}} = \frac{2}{3} \approx 0.6666
$$
实际流量是连接这个通道上的最大设备数据传输率
$$
f_{Bolck} = \max^{p}_{i=1}f_{i}
$$
$f_i$是第i台设备实际的传输速率，j为通道号

<font color='red'>`设：A、B两台设备需要传输10字节,选择时间1us，传输时间1us。`</font>

**选择通道**

总共传输耗时：
$$
T_{Select} = (\frac{T_s}{n}+T_D)\times p\times n
\\T_{Select} = (\frac{1}{10} + 1)\times2\times10 = 22_{us}
$$

极限流量计算公式
$$
f_{Max\_Bolck} =\frac{pn}{(\frac{T_s}{k}+T_D)pn}=\frac{1}{\frac{T_s}{k}+T_D}
\\f_{Max\_Bolck} = \frac{2*10}{22_{us}} = \frac{10}{11} \approx 0.999
$$
实际流量是连接这个通道上的最大设备数据传输率
$$
f_{select·j}  = \max^{p}_{i=1}f_{i}
$$





**通道总和流量分析**

如果`I/O`系统有m个通道，其中1至$m_1$为字节多路通道，$m+1$至$m_2$为数组多路通道，$m_2+1$至$m$为选择通道。

则该`I/O`系统的极限流量将为
$$
f_{max} = \sum^{m_1}_{j=1}f_{max\cdot byte\cdot j} +
\sum^{m_2}_{j=m_1+1}f_{max\cdot block\cdot j} +
\sum^{m}_{j=m_2+1}f_{max\cdot select\cdot j}
$$


**例题**

设有一字节多路通道，它有3个子通道: `"0"号、"1"号高速印字机各占一个子通道`；`“0”号打印机、"1"号打印机和"0"号光电输入机何用一个子通道`。假定传送期内高速印字机每隔$25_{us}$发送一个字节请求，低速打印机每隔$150_{us}$发一个字节请求，广电输入机每隔$800_{us}$发一个字节请求，则这5台设备要求通道的流量为？
$$
f_{max} = \sum^5_{i=1}f_{i\cdot j} = \frac{1}{25}+\frac{1}{25}+(\frac{1}{150}+\frac{1}{150}+\frac{1}{800}) \approx 0.095MB/s
$$




